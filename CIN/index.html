<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIN Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .building {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
        }

        .resource {
            margin: 10px;
        }

        button {
            margin: 5px;
        }
    </style>
</head>

<body>

    <h1>Uncustomizable Game</h1>

    <h2><a href="https://neucleardog.github.io/CIN/sandbox">Go to Customizable Version</a></h2>

    <h2>Import Configuration</h2>
    <textarea id="importData" placeholder='Paste your JSON here...' rows="10" style="width:100%;"></textarea>
    <button onclick="importData()">Import Game Data</button>

    <div id="resourceDisplay"></div>
    <div id="buildings"></div>

    <script>
        // Game variables
        let resources = {
            copper: 0,
            lead: 0,
            electricity: 0,
            water: 0,
            coal: 0,
            graphite: 0
        };

        let buildings = []; // This will be filled from imported data

        // Initialize resource display
        function updateResourceDisplay() {
            const resourceDisplay = document.getElementById('resourceDisplay');
            resourceDisplay.innerHTML = "<strong>Resources:</strong><br>";
            for (const [key, value] of Object.entries(resources)) {
                resourceDisplay.innerHTML += `<div class="resource">${key}: ${value}</div>`;
            }
        }

        // Function to create and display building elements
        function createBuilding(building) {
            const buildingDiv = document.createElement('div');
            buildingDiv.className = 'building';
            buildingDiv.innerHTML = `
                <strong>${building.name}</strong><br>
                Cost: ${JSON.stringify(building.cost)}<br>
                Production: ${JSON.stringify(building.production)}<br>
                Capacity: ${JSON.stringify(building.capacity)}<br>
                <button onclick="build('${building.name}')">Buy Building</button>
            `;
            document.getElementById('buildings').appendChild(buildingDiv);
        }

        // Function to build a building
        function build(name) {
            const building = buildings.find(b => b.name === name);
            const canBuild = Object.keys(building.cost).every(resource =>
                resources[resource] >= building.cost[resource]
            );

            if (canBuild) {
                Object.keys(building.cost).forEach(resource => {
                    resources[resource] -= building.cost[resource];
                });

                // Create and display the building
                createBuilding(building);
                alert(`${building.name} built successfully!`);
            } else {
                alert("Not enough resources to build " + name);
            }
        }

        // Function to import game data from JSON
        function importData() {
            try {
                const data = JSON.parse(document.getElementById('importData').value);
                resources = data.resources;
                buildings = data.buildings;
                // Update displays
                updateResourceDisplay();
                buildings.forEach(building => createBuilding(building));
                alert("Game data imported successfully!");
            } catch (error) {
                alert("Failed to import data. Please check the format.");
            }
        }

        // Initialize the game display
        updateResourceDisplay();
    </script>

</body>

</html>
